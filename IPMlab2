#include <Windows.h>
#include <iostream>
#include <fstream>
#include <string>

using namespace std;

std::string ECB(string inp_data, string inp_key)
{
	string key = inp_key;
	string data_help = inp_data;
	std::cout << '\n';
	std::cout << data_help;

	string data = data_help;
	// breack up into 4 16b blocks
	for (int i = 0; i < 4; i++) {
		for (int j = 0; j < 16; j++) {
			// encrypt data by key
			if (key[i * 16 + j] == '1') {
				if (j % 2 == 0) {
					data[i * 16 + j] = data_help[i * 16 + j];
				}
				else
				{
					if (data_help[i * 16 + j] == '1')
					{
						data[i * 16 + j] = '0';
					}
					else if (data_help[i * 16 + j] == '0')
					{
						data[i * 16 + j] = '1';
					}
				}
			}
			else
			{
				data[i * 16 + j] = '0';
			}
		}
	}
	std::cout << '\n';
	std::cout << data;

	return data;
}
